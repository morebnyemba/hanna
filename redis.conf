# Redis Security Configuration
# Password authentication (use strong password in production)
# Note: Password is set via command-line argument in docker-compose.yml
# This allows proper environment variable substitution

# ACL Configuration for enhanced security
# Disable dangerous commands
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command DEBUG ""

# Bind to all interfaces to allow Docker containers to connect
# Protected mode with password authentication ensures security
# Note: In production, consider restricting to Docker's internal network subnet
# for additional security (e.g., bind 172.0.0.0/8)
bind 0.0.0.0 ::0

# Enable protected mode
# With password authentication, this provides secure access control
protected-mode yes

# Maximum memory policy
maxmemory 256mb
maxmemory-policy allkeys-lru

# Persistence configuration
save 900 1
save 300 10
save 60 10000

# Append only file (AOF) for better persistence
appendonly yes
appendfsync everysec