    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:42:57] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:42:57] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:42:57] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:42:57] INFO services Registered flow action: 'create_order'
[2025-11-06 15:42:57] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:42:57] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:42:57] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:42:57] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:42:57] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:42:57] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:42:57] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:42:57] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:42:57] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:43:59] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:43:59] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:43:59] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:43:59] INFO services Registered flow action: 'create_order'
[2025-11-06 15:43:59] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:43:59] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:43:59] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:43:59] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:43:59] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:43:59] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:43:59] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:43:59] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:43:59] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:45:00] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:45:00] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:45:00] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:45:00] INFO services Registered flow action: 'create_order'
[2025-11-06 15:45:00] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:45:00] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:45:00] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:45:00] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:45:00] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:45:00] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:45:00] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:45:00] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:45:00] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:46:02] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:46:02] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:46:02] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:46:02] INFO services Registered flow action: 'create_order'
[2025-11-06 15:46:02] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:46:02] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:46:02] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:46:02] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:46:02] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:46:02] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:46:02] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:46:02] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:46:02] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:47:04] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:47:04] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:47:04] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:47:04] INFO services Registered flow action: 'create_order'
[2025-11-06 15:47:04] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:47:04] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:47:04] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:47:04] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:47:04] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:47:04] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:47:04] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:47:04] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:47:04] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:48:06] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:48:06] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:48:06] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:48:06] INFO services Registered flow action: 'create_order'
[2025-11-06 15:48:06] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:48:06] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:48:06] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:48:06] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:48:06] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:48:06] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:48:06] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:48:06] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:48:06] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:49:08] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:49:08] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:49:08] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:49:08] INFO services Registered flow action: 'create_order'
[2025-11-06 15:49:08] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:49:08] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:49:08] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:49:08] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:49:08] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:49:08] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:49:08] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:49:08] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:49:08] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:50:09] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:50:09] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:50:09] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:50:09] INFO services Registered flow action: 'create_order'
[2025-11-06 15:50:09] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:50:09] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:50:09] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:50:09] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:50:09] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:50:09] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:50:09] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:50:09] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:50:09] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:51:11] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:51:11] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:51:11] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:51:11] INFO services Registered flow action: 'create_order'
[2025-11-06 15:51:11] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:51:11] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:51:11] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:51:11] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:51:11] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:51:11] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:51:11] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:51:11] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:51:11] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:52:13] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:52:13] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:52:13] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:52:13] INFO services Registered flow action: 'create_order'
[2025-11-06 15:52:13] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:52:13] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:52:13] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:52:13] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:52:13] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:52:13] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:52:13] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:52:13] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:52:13] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:53:15] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:53:15] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:53:15] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:53:15] INFO services Registered flow action: 'create_order'
[2025-11-06 15:53:15] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:53:15] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:53:15] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:53:15] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:53:15] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:53:15] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:53:15] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:53:15] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:53:15] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:54:16] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:54:16] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:54:16] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:54:16] INFO services Registered flow action: 'create_order'
[2025-11-06 15:54:16] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:54:16] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:54:16] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:54:16] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:54:16] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:54:16] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:54:16] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:54:16] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:54:16] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:55:18] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:55:18] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:55:18] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:55:18] INFO services Registered flow action: 'create_order'
[2025-11-06 15:55:18] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:55:18] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:55:18] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:55:18] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:55:18] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:55:18] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:55:18] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:55:18] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:55:18] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...V[2025-11-06 15:56:20] INFO services Registered flow action: 'send_group_notification'
[2025-11-06 15:56:20] INFO services Registered flow action: 'update_lead_score'
[2025-11-06 15:56:20] INFO services Registered flow action: 'create_order_from_context'
[2025-11-06 15:56:20] INFO services Registered flow action: 'create_order'
[2025-11-06 15:56:20] INFO services Registered flow action: 'generate_unique_order_number'
[2025-11-06 15:56:20] INFO services Registered flow action: 'create_order_with_items'
[2025-11-06 15:56:20] INFO services Registered flow action: 'calculate_order_total'
[2025-11-06 15:56:20] INFO services Registered flow action: 'update_order_fields'
[2025-11-06 15:56:20] INFO services Registered flow action: 'update_model_instance'
[2025-11-06 15:56:20] INFO services Registered flow action: 'create_order_from_cart'
[2025-11-06 15:56:20] INFO services Registered flow action: 'generate_unique_assessment_id'
[2025-11-06 15:56:20] INFO services Registered flow action: 'create_placeholder_order'
[2025-11-06 15:56:20] INFO services Registered flow action: 'normalize_order_number'
Operations to perform:
  Apply all migrations: admin, ai_integration, auth, contenttypes, conversations, customer_data, django_celery_beat, django_celery_results, email_integration, flows, media_manager, meta_integration, notifications, paynow_integration, products_and_services, sessions, stats, token_blacklist, warranty
Running migrations:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
psycopg2.errors.DuplicateColumn: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
  File "/app/manage.py", line 22, in <module>
    main()
  File "/app/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/usr/local/lib/python3.10/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 416, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 460, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/base.py", line 107, in wrapper
    res = handle_func(*args, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/django/core/management/commands/migrate.py", line 353, in handle
    post_migrate_state = executor.migrate(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 135, in migrate
    state = self._migrate_all_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 167, in _migrate_all_forwards
    state = self.apply_migration(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/executor.py", line 255, in apply_migration
    state = migration.apply(state, schema_editor)
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/migration.py", line 132, in apply
    operation.database_forwards(
  File "/usr/local/lib/python3.10/site-packages/django/db/migrations/operations/fields.py", line 110, in database_forwards
    schema_editor.add_field(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 775, in add_field
    self.execute(sql, params or None)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/postgresql/schema.py", line 45, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/base/schema.py", line 204, in execute
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py", line 103, in _execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "warranty_claim_id" of relation "customer_data_jobcard" already exists
  Applying customer_data.0018_jobcard_warranty_claim...